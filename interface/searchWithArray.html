<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Search Prediction</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <!-- Google Font -->
    <link   
      href="https://fonts.googleapis.com/css2?family=Poppins&display=swap"
      rel="stylesheet"
    />
    <!-- Stylesheet -->
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div>  
       
      <h1>Search Prediction with Array Object</h1>
    
  </div>
    <form autocomplete="off">
      <div>
        <button type="button" class="btn btn-warning" onclick="homePage()">Back To HomePage</button>
      <input type="text" id="input" placeholder="Type a City Name here..." />
      </div>
      <ul class="list"></ul><ul class="list"></ul>
    </form>
    <script>
      function homePage(){
        window.location.href= "../../index.html"; 
      }
    </script>
    <!--Script-->
    <script src="../algo's/searchWithArrayObject.js"></script>
    <script src="../data/cities.js" type="text/javascript"></script>
    <script>      
        
        const t = new Tree();  
        cities.forEach(function(el){
            t.insertToTree(el.toLowerCase());
        })

        //reference
        let input = document.getElementById("input");
        
        //Execute function on keyup
        input.addEventListener("keyup", (e) => {
            //loop through above array
            //Initially remove all elements ( so if user erases a letter or adds new letter then clean previous outputs)
            removeElements();
          search_response = t.searchWord(input.value.toLowerCase());

            for (let i of search_response) {

            //convert input to lowercase and compare with each string
                //create li element
                let listItem = document.createElement("li");
                //One common class name
                listItem.classList.add("list-items");
                listItem.style.cursor = "pointer";
                if(input.value !=""){
                listItem.setAttribute("onclick", "displayNames('" + i + "')");
                //Display matched part in bold
                let word = "<b>" + i.substring(0, input.value.length) + "</b>";
                word += i.substring(input.value.length);
                //display the value in array
               
                listItem.innerHTML = word;
                document.querySelector(".list").appendChild(listItem);
                }
            }
        });
        function displayNames(value) {
            input.value = value;
            removeElements();
        }
        function removeElements() {
            //clear all the item
            let items = document.querySelectorAll(".list-items");
            items.forEach((item) => {
            item.remove();
            });
        }
    </script>
    
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
 
  </body>
</html>